<!DOCTYPE html>
<html lang="zh-cn" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="zh-cn" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>数仓搭建开发规范-阿里云 &middot; XuF</title>
  <meta name="title" content="数仓搭建开发规范-阿里云 &middot; XuF" />
  
  <meta name="description" content="阿里云数据仓库开发手册" />
  <meta name="keywords" content="tutorial, ODPS, database, " />
  
  
  <link rel="canonical" href="http://localhost:1313/docs/datawarehouse-standard/" />
  
  
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.d7d326824a6c86ab13e55f1f7043b40ef00f0dedb222470f589f47fbe94007fc1f63d56cd56a626b064c8ab8bd04f02b76a5cff898c2371761fdd4e71da2e4fa.css"
    integrity="sha512-19MmgkpshqsT5V8fcEO0DvAPDe2yIkcPWJ9H&#43;&#43;lAB/wfY9Vs1WpiawZMiri9BPArdqXP&#43;JjCNxdh/dTnHaLk&#43;g==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.efbf3b6b987689fffaf2d7b73173d2690c0279a04d444b0537a77d7f4ff6e6d493445400cb0cf56bc0f0f123e19f15394e63cae34e67f069bd013dd5c73df56e.js"
    integrity="sha512-7787a5h2if/68te3MXPSaQwCeaBNREsFN6d9f0/25tSTRFQAywz1a8Dw8SPhnxU5TmPK405n8Gm9AT3Vxz31bg==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.37d2094687372da3f7343a221a470f6b8806f7891aa46a5a03966af7f0ebd38b9fe536cb154e6ad28f006d184b294525a7c4054b6bbb4be62d8b453b42db99bd.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S&#43;Yti0U7QtuZvQ=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/docs/datawarehouse-standard/">
  <meta property="og:site_name" content="XuF">
  <meta property="og:title" content="数仓搭建开发规范-阿里云">
  <meta property="og:description" content="阿里云数据仓库开发手册">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:published_time" content="2023-04-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-04-22T00:00:00+00:00">
    <meta property="article:tag" content="Tutorial">
    <meta property="article:tag" content="ODPS">
    <meta property="article:tag" content="Database">
    <meta property="og:image" content="http://localhost:1313/docs/datawarehouse-standard/featured.png">
      <meta property="og:see_also" content="http://localhost:1313/docs/use-pandas-exploring-covid-19-data/">
      <meta property="og:see_also" content="http://localhost:1313/docs/aliyun-quickbi/">
      <meta property="og:see_also" content="http://localhost:1313/docs/spider/">
      <meta property="og:see_also" content="http://localhost:1313/docs/mysql-ddl-mapping-odps-ddl/">
      <meta property="og:see_also" content="http://localhost:1313/docs/how-to-use-notion/">
      <meta property="og:see_also" content="http://localhost:1313/docs/database-ai/">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/docs/datawarehouse-standard/featured.png">
  <meta name="twitter:title" content="数仓搭建开发规范-阿里云">
  <meta name="twitter:description" content="阿里云数据仓库开发手册">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "博客文章",
    "name": "数仓搭建开发规范-阿里云",
    "headline": "数仓搭建开发规范-阿里云",
    
    "abstract": "阿里云数据仓库开发手册",
    "inLanguage": "zh-cn",
    "url" : "http:\/\/localhost:1313\/docs\/datawarehouse-standard\/",
    "author" : {
      "@type": "Person",
      "name": "许飛"
    },
    "copyrightYear": "2023",
    "dateCreated": "2023-04-22T00:00:00\u002b00:00",
    "datePublished": "2023-04-22T00:00:00\u002b00:00",
    
    "dateModified": "2023-04-22T00:00:00\u002b00:00",
    
    "keywords": ["tutorial","ODPS","database"],
    
    "mainEntityOfPage": "true",
    "wordCount": "555"
  }]
  </script>


  
  
  <meta name="author" content="许飛" />
  
  
  
  <link href="https://mail.google.com/mail/u/0/#inbox" rel="me" />
  
  
  <link href="https://github.com/xuf-95" rel="me" />
  
  
  <link href="https://discord.gg/xuf" rel="me" />
  
  
  <link href="https://x.com/home" rel="me" />
  
  
  <link href="https://instagram.com/xuf-mike/" rel="me" />
  
  
  <link href="https://www.linkedin.com/in/%E9%A3%9E-%E8%AE%B8-89b118293/" rel="me" />
  
  
  <link href="https://t.me/username" rel="me" />
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>













<script defer src="/lib/typeit/typeit.umd.1b3200cb448f5cd1f548f2781452643d3511a43584b377b82c03a58055da4fdb7bc8f6c6c2ce846480c7677ff25bfd0d75f15823c09443ab18e0fd2cad792587.js" integrity="sha512-GzIAy0SPXNH1SPJ4FFJkPTURpDWEs3e4LAOlgFXaT9t7yPbGws6EZIDHZ3/yW/0NdfFYI8CUQ6sY4P0srXklhw=="></script>











  
  



  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">XuF</span>

            
            <img src="/img/sherlock-xpf.png" width="232" height="76"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="XuF" />
            

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">XuF</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/docs/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        博客
    </p>
</a>



            
            
  <a href="/week/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        周刊
    </p>
</a>



            
            
  <a href="/resume/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        简历
    </p>
</a>



            
            
  <a href="https://xuf-95.github.io/xufei-wiki/"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <span  class="mr-1" >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>

  </span>


    </span>
    
    <p class="text-base font-medium" title="">
        Wiki
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/docs/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            博客
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/week/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            周刊
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/resume/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            简历
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="https://xuf-95.github.io/xufei-wiki/"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <div  class="mr-2" >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>

  </span>


        </div>
        
        <p class="text-bg font-bg" title="">
            Wiki
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>




<script>
    (function () {
        var $mainmenu = $('.main-menu');
        var path = window.location.pathname;
        $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
            $(e).children('p').addClass('active');
        });
    })();
</script>


  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  

        
        <figure>
            <img class="w-full rounded-lg single_hero_round nozoom" alt="数仓搭建开发规范-阿里云" width="900" height="514" src="/docs/datawarehouse-standard/featured.png">
            
        </figure>
        
    
  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      数仓搭建开发规范-阿里云
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  





  



  











  



<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2023-04-22T00:00:00&#43;00:00">2023.04.04</time><span class="px-2 text-primary-500">&middot;</span><span>555 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">3 分钟</span><span class="px-2 text-primary-500">&middot;</span>


<script type="text/javascript" src="/js/zen-mode.min.63c8a202661f4a2063fdc2706685d668e8ea3da613da2224e9da527e5876e4f53dcac39ab60732626fb4151feae5d430d0cf44731e5d3c726522fcc1519c1547.js" integrity="sha512-Y8iiAmYfSiBj/cJwZoXWaOjqPaYT2iIk6dpSflh25PU9ysOatgcyYm&#43;0FR/q5dQw0M9Ecx5dPHJlIvzBUZwVRw=="></script>

<span class="mb-[2px]">
    <span id="zen-mode-button"
          class="text-lg hover:text-primary-500"
          title=""
          data-title-i18n-disable=""
          data-title-i18n-enable="">
        <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg>
  </span>

</span>
    </span>
</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/tutorial/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Tutorial
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/odps/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    ODPS
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/database/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Database
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
</div>




    </div>

    
    
    
    
    

    

    
      
      
        
        
<div class="flex author">
  
    
    
      
    
    
      
      <img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width="96" height="96"
      alt="许飛" src="/img/Crossbell%20IPFS.png" />
    
  
  <div class="place-self-center">
    
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      作者
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      许飛
    </div>
    
    
    <div class="text-sm text-neutral-700 dark:text-neutral-400">大数据工程师</div>
    

    
  
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://mail.google.com/mail/u/0/#inbox"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/xuf-95"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://discord.gg/xuf"
          target="_blank"
          aria-label="Discord"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://x.com/home"
          target="_blank"
          aria-label="X-Twitter"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://instagram.com/xuf-mike/"
          target="_blank"
          aria-label="Instagram"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://www.linkedin.com/in/%E9%A3%9E-%E8%AE%B8-89b118293/"
          target="_blank"
          aria-label="Linkedin"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://t.me/username"
          target="_blank"
          aria-label="Telegram"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>

      

      

      
      <div class="mb-5"></div>
      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-开发流程">1. 开发流程</a>
      <ul>
        <li><a href="#11-数据调研">1.1 数据调研</a>
          <ul>
            <li><a href="#111-业务调研">1.1.1 业务调研</a></li>
            <li><a href="#112-需求分析">1.1.2 需求分析</a></li>
          </ul>
        </li>
        <li><a href="#12-数据划分">1.2 数据划分</a></li>
        <li><a href="#13-构建业务总线矩阵">1.3 构建业务总线矩阵</a></li>
        <li><a href="#14-明确统计指标">1.4 明确统计指标</a></li>
        <li><a href="#15-维度模型设计">1.5 维度模型设计</a></li>
        <li><a href="#16-汇总模型设计">1.6 汇总模型设计</a></li>
      </ul>
    </li>
    <li><a href="#2数据模型架构规范">2.数据模型架构规范</a>
      <ul>
        <li><a href="#21-基本原则">2.1 基本原则</a></li>
        <li><a href="#22-数据层次的划分">2.2 数据层次的划分</a></li>
        <li><a href="#23-数据分类架构">2.3 数据分类架构</a></li>
        <li><a href="#24-数据处理流程架构">2.4 数据处理流程架构</a></li>
        <li><a href="#25-主题域划分及命名约定">2.5 主题域划分及命名约定</a></li>
        <li><a href="#26-数据模型">2.6 数据模型</a></li>
      </ul>
    </li>
    <li><a href="#3-公共规范">3. 公共规范</a>
      <ul>
        <li><a href="#31-层次调用约定">3.1 层次调用约定</a></li>
        <li><a href="#32-业务域粒度">3.2 业务域粒度</a></li>
        <li><a href="#33-分层命名规范">3.3 分层命名规范</a></li>
        <li><a href="#34-数据类型规范">3.4 数据类型规范</a></li>
        <li><a href="#35-字段定义规范">3.5 字段定义规范</a></li>
        <li><a href="#36-数据冗余">3.6 数据冗余</a></li>
        <li><a href="#37-数据拆分">3.7 数据拆分</a></li>
        <li><a href="#38-空值处理原则">3.8 空值处理原则</a></li>
        <li><a href="#39-指标口径规范">3.9 指标口径规范</a></li>
        <li><a href="#310-数据表处理规范">3.10 数据表处理规范</a>
          <ul>
            <li><a href="#3101-增量表">3.10.1 增量表</a></li>
            <li><a href="#3102-全量表">3.10.2 全量表</a></li>
            <li><a href="#3103-快照表">3.10.3 快照表</a></li>
            <li><a href="#3104-拉链表">3.10.4 拉链表</a></li>
          </ul>
        </li>
        <li><a href="#311词根设计规范">3.11 词根设计规范</a></li>
      </ul>
    </li>
    <li><a href="#4-ods层设计规范">4. ODS层设计规范</a>
      <ul>
        <li><a href="#41-设计原则">4.1 设计原则</a></li>
        <li><a href="#42-命名规范">4.2 命名规范</a></li>
        <li><a href="#43-数据存储及生命周期管理规范">4.3 数据存储及生命周期管理规范</a></li>
        <li><a href="#44-数据质量规范">4.4 数据质量规范</a></li>
      </ul>
    </li>
    <li><a href="#5-cdm公共维度层设计规范">5 CDM公共维度层设计规范</a>
      <ul>
        <li><a href="#51-设计原则">5.1 设计原则</a></li>
        <li><a href="#52-表命名规范">5.2 表命名规范</a></li>
        <li><a href="#53-数据存储及生命周期管理规范">5.3 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#6-cdm明细层设计规范">6. CDM明细层设计规范</a>
      <ul>
        <li><a href="#61-命名规范">6.1 命名规范</a></li>
        <li><a href="#62-事务型事实表设计准则">6.2 事务型事实表设计准则</a></li>
        <li><a href="#63-周期快照型事实表">6.3 周期快照型事实表</a></li>
        <li><a href="#64-累计快照事实表">6.4 累计快照事实表</a></li>
        <li><a href="#65-数据存储及生命周期管理规范">6.5 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#7-cdm汇总层设计规范">7. CDM汇总层设计规范</a>
      <ul>
        <li><a href="#71-设计原则">7.1 设计原则</a></li>
        <li><a href="#72-命名规范">7.2 命名规范</a></li>
        <li><a href="#73-数据存储及生命周期管理规范">7.3 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#8-ads应用数据层设计规范">8 ADS应用数据层设计规范</a>
      <ul>
        <li><a href="#81-命名规范">8.1 命名规范</a></li>
      </ul>
    </li>
    <li><a href="#9-其他命名规范">9. 其他命名规范</a>
      <ul>
        <li><a href="#91-视图命名规范">9.1 视图命名规范</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-开发流程">1. 开发流程</a>
      <ul>
        <li><a href="#11-数据调研">1.1 数据调研</a>
          <ul>
            <li><a href="#111-业务调研">1.1.1 业务调研</a></li>
            <li><a href="#112-需求分析">1.1.2 需求分析</a></li>
          </ul>
        </li>
        <li><a href="#12-数据划分">1.2 数据划分</a></li>
        <li><a href="#13-构建业务总线矩阵">1.3 构建业务总线矩阵</a></li>
        <li><a href="#14-明确统计指标">1.4 明确统计指标</a></li>
        <li><a href="#15-维度模型设计">1.5 维度模型设计</a></li>
        <li><a href="#16-汇总模型设计">1.6 汇总模型设计</a></li>
      </ul>
    </li>
    <li><a href="#2数据模型架构规范">2.数据模型架构规范</a>
      <ul>
        <li><a href="#21-基本原则">2.1 基本原则</a></li>
        <li><a href="#22-数据层次的划分">2.2 数据层次的划分</a></li>
        <li><a href="#23-数据分类架构">2.3 数据分类架构</a></li>
        <li><a href="#24-数据处理流程架构">2.4 数据处理流程架构</a></li>
        <li><a href="#25-主题域划分及命名约定">2.5 主题域划分及命名约定</a></li>
        <li><a href="#26-数据模型">2.6 数据模型</a></li>
      </ul>
    </li>
    <li><a href="#3-公共规范">3. 公共规范</a>
      <ul>
        <li><a href="#31-层次调用约定">3.1 层次调用约定</a></li>
        <li><a href="#32-业务域粒度">3.2 业务域粒度</a></li>
        <li><a href="#33-分层命名规范">3.3 分层命名规范</a></li>
        <li><a href="#34-数据类型规范">3.4 数据类型规范</a></li>
        <li><a href="#35-字段定义规范">3.5 字段定义规范</a></li>
        <li><a href="#36-数据冗余">3.6 数据冗余</a></li>
        <li><a href="#37-数据拆分">3.7 数据拆分</a></li>
        <li><a href="#38-空值处理原则">3.8 空值处理原则</a></li>
        <li><a href="#39-指标口径规范">3.9 指标口径规范</a></li>
        <li><a href="#310-数据表处理规范">3.10 数据表处理规范</a>
          <ul>
            <li><a href="#3101-增量表">3.10.1 增量表</a></li>
            <li><a href="#3102-全量表">3.10.2 全量表</a></li>
            <li><a href="#3103-快照表">3.10.3 快照表</a></li>
            <li><a href="#3104-拉链表">3.10.4 拉链表</a></li>
          </ul>
        </li>
        <li><a href="#311词根设计规范">3.11 词根设计规范</a></li>
      </ul>
    </li>
    <li><a href="#4-ods层设计规范">4. ODS层设计规范</a>
      <ul>
        <li><a href="#41-设计原则">4.1 设计原则</a></li>
        <li><a href="#42-命名规范">4.2 命名规范</a></li>
        <li><a href="#43-数据存储及生命周期管理规范">4.3 数据存储及生命周期管理规范</a></li>
        <li><a href="#44-数据质量规范">4.4 数据质量规范</a></li>
      </ul>
    </li>
    <li><a href="#5-cdm公共维度层设计规范">5 CDM公共维度层设计规范</a>
      <ul>
        <li><a href="#51-设计原则">5.1 设计原则</a></li>
        <li><a href="#52-表命名规范">5.2 表命名规范</a></li>
        <li><a href="#53-数据存储及生命周期管理规范">5.3 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#6-cdm明细层设计规范">6. CDM明细层设计规范</a>
      <ul>
        <li><a href="#61-命名规范">6.1 命名规范</a></li>
        <li><a href="#62-事务型事实表设计准则">6.2 事务型事实表设计准则</a></li>
        <li><a href="#63-周期快照型事实表">6.3 周期快照型事实表</a></li>
        <li><a href="#64-累计快照事实表">6.4 累计快照事实表</a></li>
        <li><a href="#65-数据存储及生命周期管理规范">6.5 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#7-cdm汇总层设计规范">7. CDM汇总层设计规范</a>
      <ul>
        <li><a href="#71-设计原则">7.1 设计原则</a></li>
        <li><a href="#72-命名规范">7.2 命名规范</a></li>
        <li><a href="#73-数据存储及生命周期管理规范">7.3 数据存储及生命周期管理规范</a></li>
      </ul>
    </li>
    <li><a href="#8-ads应用数据层设计规范">8 ADS应用数据层设计规范</a>
      <ul>
        <li><a href="#81-命名规范">8.1 命名规范</a></li>
      </ul>
    </li>
    <li><a href="#9-其他命名规范">9. 其他命名规范</a>
      <ul>
        <li><a href="#91-视图命名规范">9.1 视图命名规范</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5" >
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Documments - 这篇文章属于一个选集。
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/use-pandas-exploring-covid-19-data/">
            § : Use Pandas Analysis By exploring COVID-19 Data
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/aliyun-quickbi/">
            § : QucikBI
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        § : 本文
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/spider/">
            § : Building a Universal AI Scraper
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/mysql-ddl-mapping-odps-ddl/">
            § : MySQL DDL 批量映射 ODPS DDL 脚本
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/how-to-use-notion/">
            § : How to use Notion
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/database-ai/">
            § : Big Data With AI
        </a>
    </div>
    
    


</details>



        <div class="article-content max-w-prose mb-20">
          <!-- | 面向对象 | 数仓工程师、大数据开发工程师、数据产品经理 |
| -------------- | ------------------------------------------------ |
| TODO     | 词根设计规范、建模标准规范、任务调度规范   | -->
<h5 id="typeit-6e39aa1cd7b444ac9c8f18564a4d46b9"></h5>

<script>
    document.addEventListener("DOMContentLoaded", function () {
      new TypeIt("#typeit-6e39aa1cd7b444ac9c8f18564a4d46b9", {
        strings: ["","面向对象: 数仓工程师、大数据开发工程师、数据产品经理",""],
        speed:  100 ,
        lifeLike:  true ,
        startDelay:  0 ,
        breakLines:  true ,
        waitUntilVisible:  true ,
        loop:  false 
      }).go();
    });
</script>


<h2 class="relative group">1. 开发流程 
    <div id="1-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#1-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/jWgZOZ9aPWXyqLX8/img/3b5b2c89-7d5c-4a16-8c65-3268f621b4c9.png" alt="image" />
    
  </figure>
</p>


<h3 class="relative group">1.1 数据调研 
    <div id="11-%E6%95%B0%E6%8D%AE%E8%B0%83%E7%A0%94" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#11-%E6%95%B0%E6%8D%AE%E8%B0%83%E7%A0%94" aria-label="锚点">#</a>
    </span>        
    
</h3>


<h4 class="relative group">1.1.1 业务调研 
    <div id="111-%E4%B8%9A%E5%8A%A1%E8%B0%83%E7%A0%94" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#111-%E4%B8%9A%E5%8A%A1%E8%B0%83%E7%A0%94" aria-label="锚点">#</a>
    </span>        
    
</h4>
<ul>
<li>
<p><strong>熟悉业务流程</strong>：明确每个现实业务的具体流程，拆分为抽象的业务过程（不可拆分的行为事件）</p>
</li>
<li>
<p><strong>熟悉业务数据</strong>：将数据与业务过程对应起来，明确每个业务过程对_哪些_表的数据产生_哪些_影响（具体到对表、数据条目的操作逻辑）</p>
</li>
</ul>


<h4 class="relative group">1.1.2 需求分析 
    <div id="112-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#112-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90" aria-label="锚点">#</a>
    </span>        
    
</h4>
<p><strong>明确需求所需的业务过程及维度</strong></p>
<ul>
<li>
<p>业务数据汇总标准，衡量标准</p>
</li>
<li>
<p>明细数据层和汇总数据层设计，公共维度层设计，公共的指标设计</p>
</li>
<li>
<p>数据是否需要冗余或沉淀到汇总数据层中</p>
</li>
</ul>


<h3 class="relative group">1.2 数据划分 
    <div id="12-%E6%95%B0%E6%8D%AE%E5%88%92%E5%88%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#12-%E6%95%B0%E6%8D%AE%E5%88%92%E5%88%86" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>数据划分是指面向业务、数据域、业务过程、部门分析，将业务过程或者维度进行抽象的集合</p>
</blockquote>
<p><strong>目的</strong>：便于数据的管理和应用</p>
<p><strong>基本原则：</strong></p>
<ul>
<li>
<p>为保障整个体系的生命力，数据划分是需要<strong>抽象提炼</strong>，并且长期维护和更新的，但<strong>不轻易变动</strong></p>
</li>
<li>
<p>既能涵盖当前所有的业务需求，又能在新业务进入时无影响地被包含进已有的数据划分中和扩展新的数据划分</p>
</li>
</ul>
<p><strong>划分：</strong></p>
<ul>
<li>
<p><strong>按业务划分</strong>：这里业务可以指<strong>功能模块</strong>、<strong>业务线</strong>，甚至是<strong>项目</strong>。命名时按主要的业务划分，以指导物理模型的划分原则和命名原则。</p>
</li>
<li>
<p><strong>按数据域划分</strong>：将一个或多个业务过程、维度进行抽象的集合。</p>
</li>
<li>
<p><strong>按业务过程划分</strong>：当一个数据域由多个业务过程组成时，可以按业务流程划分。业务过程是从数据分析角度看客观存在的或者抽象的业务行为动作。</p>
</li>
<li>
<p><strong>按照部门划分</strong>：根据数据归属部门来划分数据。</p>
</li>
</ul>


<h3 class="relative group">1.3 构建业务总线矩阵 
    <div id="13-%E6%9E%84%E5%BB%BA%E4%B8%9A%E5%8A%A1%E6%80%BB%E7%BA%BF%E7%9F%A9%E9%98%B5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#13-%E6%9E%84%E5%BB%BA%E4%B8%9A%E5%8A%A1%E6%80%BB%E7%BA%BF%E7%9F%A9%E9%98%B5" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>包含所有事实（业务过程）及维度，以及两者之间的关系</p>
</blockquote>
<ul>
<li>
<p>矩阵的行是业务过程，列是维度</p>
</li>
<li>
<p>一个业务过程对应一张事务型事实表，一个维度则对应一张维度表</p>
</li>
</ul>


<h3 class="relative group">1.4 明确统计指标 
    <div id="14-%E6%98%8E%E7%A1%AE%E7%BB%9F%E8%AE%A1%E6%8C%87%E6%A0%87" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#14-%E6%98%8E%E7%A1%AE%E7%BB%9F%E8%AE%A1%E6%8C%87%E6%A0%87" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p><strong>原子指标</strong> ： 业务过程 + 度量值 + 聚合逻辑</p>
</li>
<li>
<p><strong>派生指标</strong> ： 原子指标 + 统计周期 + 业务限定（修饰词） + 统计粒度（groupBy）</p>
</li>
<li>
<p><strong>衍生指标</strong> ： 在一个或多个派生指标的基础上计算而来</p>
</li>
</ul>
<blockquote>
<p><strong>当需求足够多时，建议将公共的派生指标保存在数仓的DWS层，减少重复计算，提高数据的复用性。</strong></p>
</blockquote>


<h3 class="relative group">1.5 维度模型设计 
    <div id="15-%E7%BB%B4%E5%BA%A6%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#15-%E7%BB%B4%E5%BA%A6%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>构建业务总线矩阵的过程就是设计维度模型的过程。但是需要注意，总线矩阵中通常只包含事务型事实表，周期性快照事务表和累积型快照事实表这两种类型的事实表需单独设计</p>
</blockquote>
<ul>
<li>
<p>事实表存储在DWD层</p>
</li>
<li>
<p>维度表存储在DIM层</p>
</li>
</ul>


<h3 class="relative group">1.6 汇总模型设计 
    <div id="16-%E6%B1%87%E6%80%BB%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#16-%E6%B1%87%E6%80%BB%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>汇总模型的设计参考整理出的指标体系</p>
</blockquote>
<p>汇总表与派生指标的对应关系是：一张汇总表通常包含业务过程相同、统计周期相同、统计粒度相同的多个派生指标</p>


<h2 class="relative group">2.数据模型架构规范 
    <div id="2%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#2%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E6%9E%B6%E6%9E%84%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">2.1 基本原则 
    <div id="21-%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#21-%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p><strong>高性能</strong>：快速查询</p>
</li>
<li>
<p><strong>低成本</strong>：减少重复计算</p>
</li>
<li>
<p><strong>高效率</strong>：提高用户使用数据的效率</p>
</li>
<li>
<p><strong>高质量</strong>：减少计算错误可能性</p>
</li>
</ul>


<h3 class="relative group">2.2 数据层次的划分 
    <div id="22-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%AC%A1%E7%9A%84%E5%88%92%E5%88%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#22-%E6%95%B0%E6%8D%AE%E5%B1%82%E6%AC%A1%E7%9A%84%E5%88%92%E5%88%86" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>基本原则：</strong></p>
<ul>
<li>
<p>减少重复开发</p>
</li>
<li>
<p>数据血缘可追踪；</p>
</li>
<li>
<p>清晰数据结构；</p>
</li>
<li>
<p>避免链路过长；</p>
</li>
<li>
<p>不能为了分层而分层</p>
</li>
</ul>
<p><strong>划分</strong>：</p>
<ul>
<li>
<p><strong>ODS</strong>：Operational Data Store，<strong>操作数据层(原始数据层)</strong>，在结构上其与源系统的增量或者全量数据基本保持一致。相当于一个<strong>数据准备区</strong>，同时又承担着基础数据的记录以及历史变化。其主要作用是把基础数据引入到数仓中。是最接近数据源中数据的一层，为了考虑后续可能需要追溯数据问题，因此对于这一层就不建议做数据清洗工作。</p>
</li>
<li>
<p><strong>CDM</strong>：Common Data Model，<strong>公共维度模型层</strong>，又细分为<strong>DWD</strong>、<strong>DWS</strong>和<strong>DIM</strong>层。它的主要作用是完成数据加工与整合、建立<strong>一致性的维度</strong>、构建可复用的面向分析和统计的<strong>明细事实表</strong>以及<strong>汇总公共粒度的指标</strong>。同时在该层的DWD和DIM完成<strong>数据清洗</strong>、<strong>规范</strong>以及<strong>数据元的标准化</strong>。为了提高明细数据层的易用性，该层会采用一些<strong>维度退化</strong>手法，将部分维度退化至事实表中，减少事实表和维表的关联。</p>
</li>
<li>
<p><strong>DIM</strong>：  Dimension，公共维度层，主要分为<strong>高基数维度数据、低基数维度数据</strong>和<strong>杂项维度数据</strong>。 </p>
</li>
<li>
<p><strong>DWD</strong>：Data Warehouse Detail，<strong>明细数据层</strong>。</p>
</li>
<li>
<p><strong>DWS</strong>：Data Warehouse Summary，<strong>汇总数据层</strong>。</p>
</li>
<li>
<p><strong>DWT</strong>：Data Warehouse Topic，<strong>主题数据层</strong>。</p>
</li>
<li>
<p><strong>ADS</strong>：Application Data Service，<strong>应用数据层</strong>。</p>
</li>
</ul>
<blockquote>
<p><strong>具体仓库的分层情况需要结合业务场景、数据场景、系统场景进行综合考虑。</strong></p>
</blockquote>


<h3 class="relative group">2.3 数据分类架构 
    <div id="23-%E6%95%B0%E6%8D%AE%E5%88%86%E7%B1%BB%E6%9E%B6%E6%9E%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#23-%E6%95%B0%E6%8D%AE%E5%88%86%E7%B1%BB%E6%9E%B6%E6%9E%84" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/jWgZOZ9aPWXyqLX8/img/df47a943-eaf8-4152-8202-f8793c7559bb.png" alt="image" />
    
  </figure>
</p>
<p>该数据分类架构在ODS层分为三部分：<strong>数据准备区</strong>、<strong>离线数据</strong>和准实时数据区。在进入到CDM层后，由以下几部分组成：</p>
<ul>
<li>
<p><strong>公共维度层</strong>：基于维度建模理念思想，建立整个项目的一致性维度。</p>
</li>
<li>
<p><strong>明细粒度事实层</strong>：以业务过程为建模驱动，基于每个具体业务过程的特点，构建最细粒度的明细层事实表。可以结合数据使用特点，将明细事实表的某些重要维度属性字段做适当的冗余，即宽表化处理。</p>
</li>
<li>
<p><strong>公共汇总粒度事实层</strong>：以分析的主题对象为建模驱动，基于上层的应用和产品的指标需求，构建公共粒度的汇总指标事实表或者面向实体的主题宽表，以宽表化手段来物理化模型。</p>
</li>
</ul>


<h3 class="relative group">2.4 数据处理流程架构 
    <div id="24-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E6%9E%B6%E6%9E%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#24-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E6%9E%B6%E6%9E%84" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/jWgZOZ9aPWXyqLX8/img/20adade9-ad06-4cc4-813c-7e33a013feb2.png" alt="image" />
    
  </figure>
</p>


<h3 class="relative group">2.5 主题域划分及命名约定 
    <div id="25-%E4%B8%BB%E9%A2%98%E5%9F%9F%E5%88%92%E5%88%86%E5%8F%8A%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#25-%E4%B8%BB%E9%A2%98%E5%9F%9F%E5%88%92%E5%88%86%E5%8F%8A%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>需要根据业务划分数据并约定命名，建议针对业务名称结合数据层次约定相关命名的英文缩写，这样可以给后续数据开发过程中，对项目/库、表、字段等命名作为重要参照。</p>
<p><strong>划分：</strong></p>
<ul>
<li>
<p><strong>按业务划分</strong>：这里业务可以指<strong>功能模块</strong>、<strong>业务线</strong>，甚至是<strong>项目</strong>。命名时按主要的业务划分，以指导物理模型的划分原则和命名原则。例如，按业务定义英文缩写，“志愿者服务”英文缩写可以定义为“vol”。</p>
</li>
<li>
<p><strong>按数据域划分</strong>：将一个或多个业务过程、维度进行抽象的集合。命名时按照CDM层的数据进行数据域划分，以便有效地对数据进行管理，以及指导数据表的命名。例如，“市场主体”数据的英文“market entity”缩写可定义为“mkt_ent”。</p>
</li>
<li>
<p><strong>按业务过程划分</strong>：当一个数据域由多个业务过程组成时，命名时可以按业务流程划分。业务过程是从数据分析角度看客观存在的或者抽象的业务行为动作。例如，市场主体域中的“主体变更”这个业务过程的英文缩写可约定命名为“ent_chg”。</p>
</li>
<li>
<p><strong>按照部门划分</strong>：根据数据归属部门来划分数据。例如，学生数据归属教育部门，英文缩写可以约定为“edu_stu”。</p>
</li>
</ul>


<h3 class="relative group">2.6 数据模型 
    <div id="26-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#26-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>模型</strong>是对现实事物的反映和抽象。数据模型定义了<strong>数据之间关系和结构</strong>，可以有规律地快速获取想要的数据。例如，在一个超市里，商品的布局都有特定的规范，商品摆放的位置是按照消费者的购买习惯以及人流走向进行摆放的。</p>
<p><strong>（1）数据模型的作用：</strong></p>
<p>数据模型是在业务需求分析之后，数据仓库工作开始时的第一步。良好的数据模型可以更好地存储数据，更有效率地获取数据，保证数据间的一致性。</p>
<p><strong>（2）基本设计原则：</strong></p>
<ul>
<li><strong>高内聚和低耦合</strong></li>
</ul>
<p>一个逻辑和物理模型由哪些记录和字段组成，应该遵循最基本的软件设计方法论中的高内聚和低耦合原则，模型<strong>内部高内聚、 不同模型间低耦合</strong>。</p>
<p>主要从数据业务特性和访问特性两个角度来考虑：</p>
<ul>
<li>
<p>将业务<strong>相近</strong>或者<strong>相关</strong>的数据、<strong>粒度相同</strong>数据设计为一个<strong>逻辑或者物理模型</strong>；</p>
</li>
<li>
<p>将<strong>高概率同时访问</strong>的数据放一起，将低概率同时访问的数据分开存储。</p>
</li>
<li>
<p><strong>核心模型与扩展模型分离</strong></p>
</li>
</ul>
<p>建立核心模型与扩展模型体系，核心模型包括的字段支持常用核心的业务，扩展模型包括的字段支持个性化或是少量应用的需要。在必须让核心模型与扩展模型做关联时，不能让扩展字段过度侵入核心模型，以免破坏了核心模型的架构简洁性与可维护性。</p>
<ul>
<li><strong>公共处理逻辑下沉及单一</strong></li>
</ul>
<p>底层公用的处理逻辑应该在数据调度依赖的底层进行封装与实现，不要让公用的处理逻辑暴露给应用层实现，不要让公共逻辑在多处同时存在。</p>
<ul>
<li><strong>成本与性能平衡</strong></li>
</ul>
<p>适当的数据冗余可换取查询和刷新性能，不宜过度冗余与数据复制。</p>
<ul>
<li>
<p>**数据可回滚，**处理逻辑不变，在不同时间多次运行数据的结果需确定不变。</p>
</li>
<li>
<p>**一致性，**相同的字段在不同表中的字段名必须相同。</p>
</li>
<li>
<p>**命名清晰可理解，**表命名规范需清晰、一致，表命名需易于下游的理解和使用。</p>
</li>
</ul>
<p><strong>说明</strong></p>
<ul>
<li>
<p>一个模型无法满足所有的需求。</p>
</li>
<li>
<p>需合理选择数据模型的建模方式。</p>
</li>
<li>
<p>通常，设计顺序依次为：<em><strong>概念模型-&gt;逻辑模型-&gt;物理模型</strong></em><strong>。</strong></p>
</li>
</ul>


<h2 class="relative group">3. 公共规范 
    <div id="3-%E5%85%AC%E5%85%B1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3-%E5%85%AC%E5%85%B1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">3.1 层次调用约定 
    <div id="31-%E5%B1%82%E6%AC%A1%E8%B0%83%E7%94%A8%E7%BA%A6%E5%AE%9A" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#31-%E5%B1%82%E6%AC%A1%E8%B0%83%E7%94%A8%E7%BA%A6%E5%AE%9A" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>（1）应用层应<strong>优先调用公共层数据</strong>（必须存在中间层CDM数据），不允许应用层跨过中间层CDM从ODS层重复加工数据。</p>
<p>（2）中间层CDM需要积极了解应用层数据的建设需求，将<strong>公用的数据沉淀到公共层</strong>，为其他层提供数据服务。</p>
<p>（3）应用层需要积极配合中间层CDM持续改造公共层。必须避免不合理的数据复制以及子集合冗余。</p>
<ul>
<li>
<p>ODS层数据不能被应用层任务引用，如果中间层没有沉淀的ODS层数据，则通过CDM层的视图访问。CDM层视图必须使用调度程序进行封装，保持视图的可维护性与可管理性。</p>
</li>
<li>
<p>CDM层任务的<strong>深度不宜过大</strong>（建议不超过10层）。</p>
</li>
<li>
<p>原则上<strong>一个计算</strong>刷新任务只允许<strong>一个输出表</strong>。</p>
</li>
<li>
<p>如果<strong>多个任务刷新输出一个表</strong>（不同任务插入不同的分区）,Doplhinscheduler上必须通过创建一个Dependent任务节点，通过Dependent依赖上游所有刷新任务(DataWorks上需要建立一个依赖多个刷新任务的虚拟任务，通常下游应该依赖此虚拟任务)。</p>
</li>
<li>
<p>CDM汇总层应优先调用CDM明细层。在调用可累加类指标计算时，CDM汇总层尽量优先调用已经产出的粗粒度汇总层，以避免大量汇总直接从海量的明细数据层计算。</p>
</li>
<li>
<p>CDM明细层累计快照事实表<strong>优先调用CDM事务型事实表</strong>，以保持数据的一致性产出。</p>
</li>
<li>
<p>避免应用层过度引用和依赖CDM层明细数据，需要针对性地建设好CDM公共汇总层。</p>
</li>
</ul>


<h3 class="relative group">3.2 业务域粒度 
    <div id="32-%E4%B8%9A%E5%8A%A1%E5%9F%9F%E7%B2%92%E5%BA%A6" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#32-%E4%B8%9A%E5%8A%A1%E5%9F%9F%E7%B2%92%E5%BA%A6" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>按实际需求分配不同的业务域。例如：</p>
<ul>
<li>
<p>ODS层项目，按业务域的粒度建立。</p>
</li>
<li>
<p>CDM层项目，按业务域的粒度建立。</p>
</li>
<li>
<p>ADS层项目，按应用的粒度建立。</p>
</li>
</ul>


<h3 class="relative group">3.3 分层命名规范 
    <div id="33-%E5%88%86%E5%B1%82%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#33-%E5%88%86%E5%B1%82%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>ODS层名称以<code>ods</code>为前缀，例如<code>ods\_</code>。</p>
</li>
<li>
<p>中间层CDM名称以<code>cdm</code>为前缀，例如<code>dim\_</code>、<code>dwd\_</code>、<code>dws\_</code>、<code>cdm\_</code>。</p>
</li>
</ul>
<p>1）拉链表名称以zip为后缀，例如<code>\_zip</code>。</p>
<ul>
<li>应用层ADS名称以ads为前缀，例如ads_。</li>
</ul>
<p>1）数据报表、数据分析等应用名称以<code>bi</code>为后缀，例如<code>\_bi</code>；</p>
<p>2）数据产品等应用名称以<code>app</code>为后缀，例如<code>\_app</code>。</p>


<h3 class="relative group">3.4 数据类型规范 
    <div id="34-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#34-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>ODS层的数据类型应基于源系统数据类型转换。例如，源数据为MySQL时的转换规则如下。</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left"><strong>MySQL数据类型</strong></th>
          <th style="text-align: left"><strong>Hive数据类型</strong></th>
          <th style="text-align: left"><strong>MaxCompute数据类型</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">TINYINT</td>
          <td style="text-align: left">TINYINT</td>
          <td style="text-align: left">TINYINT</td>
      </tr>
      <tr>
          <td style="text-align: left">SMALLINT/MEDIUMINT</td>
          <td style="text-align: left">SMALLINT</td>
          <td style="text-align: left">SMALLINT</td>
      </tr>
      <tr>
          <td style="text-align: left">INTEGER</td>
          <td style="text-align: left">INT</td>
          <td style="text-align: left">INT</td>
      </tr>
      <tr>
          <td style="text-align: left">BIGINT</td>
          <td style="text-align: left">BIGINT</td>
          <td style="text-align: left">BIGINT</td>
      </tr>
      <tr>
          <td style="text-align: left">FLOAT</td>
          <td style="text-align: left">FLOAT</td>
          <td style="text-align: left">FLOAT</td>
      </tr>
      <tr>
          <td style="text-align: left">DOUBLE</td>
          <td style="text-align: left">DOUBLE</td>
          <td style="text-align: left">DOUBLE</td>
      </tr>
      <tr>
          <td style="text-align: left">DECIMAL</td>
          <td style="text-align: left">DECIMAL</td>
          <td style="text-align: left">DECIMAL</td>
      </tr>
      <tr>
          <td style="text-align: left">CHAR/VARCHAR</td>
          <td style="text-align: left">STRING</td>
          <td style="text-align: left">STRING</td>
      </tr>
      <tr>
          <td style="text-align: left">LONGTEXT/TEXT</td>
          <td style="text-align: left">STRING</td>
          <td style="text-align: left">STRING</td>
      </tr>
      <tr>
          <td style="text-align: left">DATE/TIMESTAMP/TIME/YEAR</td>
          <td style="text-align: left">STRING</td>
          <td style="text-align: left">STRING</td>
      </tr>
      <tr>
          <td style="text-align: left">DATETIME</td>
          <td style="text-align: left">STRING</td>
          <td style="text-align: left">DATETIME</td>
      </tr>
  </tbody>
</table>
<p>CDM数据公共层如果是引用ODS层数据，则默认使用ODS层字段的数据类型。其衍生加工数据字段按以下标准执行：</p>
<ul>
<li>
<p>金额类及其它小数点数据使用_<strong>DOUBLE</strong><em>或</em><strong>DECIMAL</strong>_类型。</p>
</li>
<li>
<p>字符类数据使用_<strong>STRING</strong>_类型。</p>
</li>
<li>
<p>ID类和整形数值使用_<strong>BIGINT</strong><em>或</em><strong>INT</strong>_类型。</p>
</li>
<li>
<p>时间类型数据使用_<strong>STRING</strong><em>或者</em><strong>DATETIME</strong><em>类型（如果有特殊的格式要求，可以选择性使用</em><strong>DATETIME</strong>_类型）。</p>
</li>
<li>
<p>状态使用_<strong>STRING</strong>_类型。</p>
</li>
</ul>


<h3 class="relative group">3.5 字段定义规范 
    <div id="35-%E5%AD%97%E6%AE%B5%E5%AE%9A%E4%B9%89%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#35-%E5%AD%97%E6%AE%B5%E5%AE%9A%E4%B9%89%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>数据统计日期的分区字段按以下标准：</p>
</li>
<li>
<p>按天分区：dt(yyyymmdd或 yyyy-mm-dd)。</p>
</li>
<li>
<p>按小时分区：hh(00~23)。</p>
</li>
<li>
<p>按分钟：mi(00~59)。</p>
</li>
<li>
<p>is_{业务}：表示布尔型数据字段。以Y和N表示，不允许出现空值域。</p>
</li>
<li>
<p>原则上不需要冗余分区字段。</p>
</li>
<li>
<p>所有单词小写</p>
</li>
<li>
<p>单词之间下划线分割（反例：appName 或 AppName）</p>
</li>
<li>
<p>可读性优于长度 (词根，避免出现同一个指标，命名一致性)</p>
</li>
<li>
<p>禁止使用 sql 关键字，如字段名与关键字冲突时 +col</p>
</li>
</ul>


<h3 class="relative group">3.6 数据冗余 
    <div id="36-%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#36-%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>一个表做宽表冗余维度属性时，应该遵循以下建议准则：</p>
<ul>
<li>
<p>冗余字段要使用高频，下游3个或以上使用。</p>
</li>
<li>
<p>冗余字段的引入不应造成其本身的刷新完成时间产生过多后延。</p>
</li>
<li>
<p>冗余字段和已有字段的重复率不应过大，原则上不应超过60%，如需要可以选择join或原表拓展。</p>
</li>
</ul>


<h3 class="relative group">3.7 数据拆分 
    <div id="37-%E6%95%B0%E6%8D%AE%E6%8B%86%E5%88%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#37-%E6%95%B0%E6%8D%AE%E6%8B%86%E5%88%86" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>数据的_<strong>水平和垂直拆分</strong><em>是按照访问</em><strong>热度分布</strong>_和数据表非空数据值、零数据值在行列二维空间上分布情况进行划分的。</p>
<ul>
<li>
<p>在物理上划分核心模型和扩展模型，将其字段进行垂直划分。</p>
</li>
<li>
<p>将访问相关度较高的列在一个表存储，将访问相关度较低的字段分开存储。</p>
</li>
<li>
<p>将经常用到的Where条件按记录行进行水平切分或者冗余。水平切分可以考虑二级分区手段，以避免多余的数据复制与冗余。</p>
</li>
</ul>


<h3 class="relative group">3.8 空值处理原则 
    <div id="38-%E7%A9%BA%E5%80%BC%E5%A4%84%E7%90%86%E5%8E%9F%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#38-%E7%A9%BA%E5%80%BC%E5%A4%84%E7%90%86%E5%8E%9F%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>汇总类指标的空值：空值处理，填充为0。</p>
</li>
<li>
<p>维度属性值为空：空值处理，填充为NULL。</p>
</li>
</ul>


<h3 class="relative group">3.9 指标口径规范 
    <div id="39-%E6%8C%87%E6%A0%87%E5%8F%A3%E5%BE%84%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#39-%E6%8C%87%E6%A0%87%E5%8F%A3%E5%BE%84%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>基本原则</strong>：</p>
<ul>
<li>
<p>至少<strong>保证本数据划分内，指标口径一致，无歧义</strong>。</p>
</li>
<li>
<p>存在两个指标名称相同，但口径不一致，优先判断是否可以合并</p>
</li>
</ul>


<h3 class="relative group">3.10 数据表处理规范 
    <div id="310-%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%A4%84%E7%90%86%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#310-%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%A4%84%E7%90%86%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>


<h4 class="relative group">3.10.1 增量表 
    <div id="3101-%E5%A2%9E%E9%87%8F%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3101-%E5%A2%9E%E9%87%8F%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h4>
<blockquote>
<p>新增数据，增量数据是上次导出之后的新数据</p>
</blockquote>
<ul>
<li>
<p>记录每次增加的量，而不是总量</p>
</li>
<li>
<p>增量表，只报变化量，无变化不用报</p>
</li>
<li>
<p>每天一个分区。</p>
</li>
</ul>
<p>**事件型流水表：**指数据无重复或者无主键数据，如日志</p>
<p>**事件型镜像表：**指业务过程性数据，有主键，但是对于同样主键的属性会发生缓慢变化，如交易、订单状态与时间会根据业务发生变更</p>


<h4 class="relative group">3.10.2 全量表 
    <div id="3102-%E5%85%A8%E9%87%8F%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3102-%E5%85%A8%E9%87%8F%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h4>
<blockquote>
<p>每天的所有的最新状态的数据</p>
</blockquote>
<ul>
<li>
<p>全量表，有无变化，都要归集</p>
</li>
<li>
<p>每次归集的数据都是所有的数据（变化的 + 没有变化的）</p>
</li>
<li>
<p>只有一个分区</p>
</li>
</ul>


<h4 class="relative group">3.10.3 快照表 
    <div id="3103-%E5%BF%AB%E7%85%A7%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3103-%E5%BF%AB%E7%85%A7%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h4>
<blockquote>
<p>按日分区，记录截止数据日期的全量数据</p>
</blockquote>
<ul>
<li>
<p>快照表，有无变化，都要报</p>
</li>
<li>
<p>每次上报的数据都是所有的数据（变化的 + 没有变化的）</p>
</li>
<li>
<p>一天一个分区</p>
</li>
</ul>


<h4 class="relative group">3.10.4 拉链表 
    <div id="3104-%E6%8B%89%E9%93%BE%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#3104-%E6%8B%89%E9%93%BE%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h4>
<blockquote>
<p>记录截止数据日期的全量数据</p>
</blockquote>
<ul>
<li>
<p>记录一个事物从开始，一直到当前状态的所有变化的信息</p>
</li>
<li>
<p>拉链表每次上报的都是历史记录的最终状态，是记录在当前时刻的历史总量</p>
</li>
<li>
<p>当前记录存的是当前时间之前的所有历史记录的最后变化量（总量）</p>
</li>
<li>
<p>只有一个分区</p>
</li>
</ul>


<h3 class="relative group">3.11 词根设计规范 
    <div id="311%E8%AF%8D%E6%A0%B9%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#311%E8%AF%8D%E6%A0%B9%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li><input disabled="" type="checkbox"> ?</li>
</ul>


<h2 class="relative group">4. ODS层设计规范 
    <div id="4-ods%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#4-ods%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">4.1 设计原则 
    <div id="41-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#41-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>一个系统源表只允许同步一次</p>
</li>
<li>
<p>全量初始化同步和增量同步处理逻辑要清晰</p>
</li>
<li>
<p>以统计日期和时间进行分区存储</p>
</li>
<li>
<p>目标表字段在源表不存在时要自动填充处理</p>
</li>
</ul>


<h3 class="relative group">4.2 命名规范 
    <div id="42-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#42-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p><strong>表命名规则</strong>：{project_name/database}.ods_{源系统名}_业务域_主题域_XXX_更新周期</p>
</li>
<li>
<p>增量数据：{project_name/database}.ods_{源系统名}_XXX_delta。</p>
</li>
<li>
<p>全量数据：{project_name/database}.ods_{源系统名}_XXX。</p>
</li>
<li>
<p>ODS ETL过程的临时表：{project_name/database}.tmp_{临时表所在过程的输出表}_{从0开始的序号}。</p>
</li>
<li>
<p>按小时同步的增量表：{project_name/database}.ods_{源系统名}_XXX_delta_{hh}。</p>
</li>
<li>
<p>按小时同步的全量表：{project_name/database}.ods_{源系统名}_XXX_{hh}。</p>
</li>
<li>
<p>当不同源系统同步到同一个Project/Database下的表命名冲突时，需要给同步较晚的表名加上源系统的dbname以解决冲突。</p>
</li>
<li>
<p><strong>字段命名规范</strong></p>
</li>
<li>
<p>字段默认使用源系统的字段名。</p>
</li>
<li>
<p>字段名与MaxCompute/Hive关键字冲突时，在源字段名后加上col，即源字段名col。</p>
</li>
</ul>
<p><strong>说明</strong> ：</p>
<ul>
<li>
<p>任务的输出名称，即输出表的名称。</p>
</li>
<li>
<p>Dataworks中ODS表名命名可基于原表名加前缀和后缀的方式{project_name/database}.ods_{源系统名}_{原表名}_更新周期；</p>
</li>
</ul>


<h3 class="relative group">4.3 数据存储及生命周期管理规范 
    <div id="43-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#43-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left"><strong>数据表类型</strong></th>
          <th style="text-align: left"><strong>存储方式</strong></th>
          <th style="text-align: left"><strong>最长存储保留策略</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">ODS流水型全量表</td>
          <td style="text-align: left">按天分区</td>
          <td style="text-align: left">不可再生情况下，永久保存；日志可按留存要求；</td>
      </tr>
      <tr>
          <td style="text-align: left">ODS镜像型全量表</td>
          <td style="text-align: left">按天分区</td>
          <td style="text-align: left">推荐按天存储；对历史变化进行保留；最新数据存储在最大分区；历史数据按需保留；</td>
      </tr>
      <tr>
          <td style="text-align: left">ODS增量表</td>
          <td style="text-align: left">按天分区</td>
          <td style="text-align: left">推荐按天存储；有对应全量表，最多保留最近14天分区数据。无对应全量表，需要永久保留数据。</td>
      </tr>
      <tr>
          <td style="text-align: left">ODS ETL过程临时表</td>
          <td style="text-align: left">按天分区</td>
          <td style="text-align: left">推荐按需保留；最多保留最近7天分区；建议用完即删，下次使用再生成；</td>
      </tr>
  </tbody>
</table>


<h3 class="relative group">4.4 数据质量规范 
    <div id="44-%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#44-%E6%95%B0%E6%8D%AE%E8%B4%A8%E9%87%8F%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>每个ODS全量表必须配置唯一性字段标识；</p>
</li>
<li>
<p>每个ODS全表必须有注释；</p>
</li>
<li>
<p>每个ODS全量表必须监控分区空数据；</p>
</li>
<li>
<p>建议对重要表的重要枚举类型字段进行枚举值变化及枚举值分布监控；</p>
</li>
<li>
<p>建议ODS表数据量级和记录数做环比监控。</p>
</li>
<li>
<p>必须给扩展<strong>src_sys</strong>字段和<strong>runtime</strong>字段，用于记录数据来源系统和入仓时间</p>
</li>
</ul>


<h2 class="relative group">5 CDM公共维度层设计规范 
    <div id="5-cdm%E5%85%AC%E5%85%B1%E7%BB%B4%E5%BA%A6%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#5-cdm%E5%85%AC%E5%85%B1%E7%BB%B4%E5%BA%A6%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>
<blockquote>
<p>维度表主要是包含一个主键，各种维度字段（维度属性）</p>
</blockquote>


<h3 class="relative group">5.1 设计原则 
    <div id="51-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#51-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>（1）一致性维度规范：</strong></p>
<p>公共层的维度表中相同维度属性在不同物理表中的字段名称、数据类型、数据内容必须保持一致。除了以下情况：</p>
<ul>
<li>
<p>在不同的实际物理表中，如果由于维度角色的差异，需要使用其他的名称，其他名称也必须是规范的维度属性的别名。例如，定义一个标准的身份证id_card时，如果在一个表中，分别要表示父亲身份证号，母亲身份证号，那么设计规范阶段就预先对身份证号分别定义父亲身份证号和母亲身份证号。</p>
</li>
<li>
<p>如果由于历史原因，在暂时不一致的情况下，必须在规范的维度定义一个标准维度属性，不同的物理名也必须是来自标准维度属性的别名。</p>
</li>
</ul>
<blockquote>
<p>若多个事实表与同一维度相关，应保证维度唯一性（只创建一张维度表）</p>
</blockquote>
<p><strong>（2）维度属性</strong></p>
<ul>
<li>尽量不编码，采用文字说明。</li>
</ul>
<p><strong>（3）维度的组合与拆分</strong></p>
<p><strong>1）组合原则</strong></p>
<ul>
<li>
<p>将维度所描述业务相关性强的字段在一个物理维表实现。相关性强是指经常需要一起查询或进行报表展现、两个维度属性间是否存在天然的关系等。例如，企业基本属性和法人代表。</p>
</li>
<li>
<p>无相关性的维度可以适当考虑杂项维度（例如公民身份），可以构建一个公民身份杂项维度收集身份的特殊标记属性、分类等信息。也可以将杂项维度退化在事实表中处理，不过容易造成事实表相对庞大，加工处理较为复杂。</p>
</li>
<li>
<p>行为维度是经过汇总计算的指标，在上层的应用使用时将其当维度处理。例如：救助次数1-5次，6-10次。如果有需要，度量指标可以作为行为维度冗余到维度表中。</p>
</li>
</ul>
<p><strong>2）拆分与冗余</strong></p>
<p>对于维度属性过多，涉及源较多的维度表（例如自然人表），可以做适当拆分：</p>
<ul>
<li>
<p>拆分为核心表和扩展表。核心表相对字段较少，刷新产出时间较早，优先使用。扩展表字段较多，且可以冗余核心表部分字段，刷新产出时间较晚，适合数据分析人员使用。</p>
</li>
<li>
<p>根据维度属性的业务不相关性，将相关度不大的维度属性拆分为多个物理表存储。</p>
</li>
</ul>
<p>数据记录数较大的维度表（例如停车用户表），可以适当冗余一些子集合，以减少下游扫描数据量：</p>
<ul>
<li>
<p>可以根据近半年是否登录过停车小程序，产出一个活跃的停车用户相关维表，以减少应用的数据扫描量。</p>
</li>
<li>
<p>可根据所属业务扫描数据范围大小的不同，进行适当子集合冗余。</p>
</li>
</ul>
<p><strong>（4）维度退化</strong></p>
<p>某维度表属性很少，此表可省略不创建，将该表的属性直接增加到相关的事实表中确定主维表和相关维表</p>
<p><strong>（5）维度变化</strong></p>
<p><strong>1）全量快照</strong></p>
<ul>
<li>
<p>优点：简单，有效。</p>
</li>
<li>
<p>缺点：浪费空间</p>
</li>
</ul>
<p><strong>2）拉链表</strong></p>
<ul>
<li>
<p>记录信息的生命周期</p>
</li>
<li>
<p>适用于变化频率不是很大的场景</p>
</li>
</ul>
<p><strong>（6）多值属性</strong></p>
<ul>
<li>
<p>多值属性放入同一字段</p>
</li>
<li>
<p>多值属性放入多个字段，只适用于属性值固定的情况</p>
</li>
</ul>


<h3 class="relative group">5.2 表命名规范 
    <div id="52-%E8%A1%A8%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#52-%E8%A1%A8%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>命名规则</strong>：{project_name/database}.dim[_{业务/pub}]_{维度定义}[_{自定义命名标签}]，其中的pub与具体业务无关，各个业务部都可以共用，例如时间维度、地区维度。</p>


<h3 class="relative group">5.3 数据存储及生命周期管理规范 
    <div id="53-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#53-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>CDM公共维度层的表的类型为维度表，存储方式为按天分区。</strong></p>
<p>模型设计需要根据自身业务需求设置表的生命周期管理。可依据3个月内的最大需要访问的跨度设置保留策略，具体计算方式如下：</p>
<ul>
<li>
<p>当3个月内的最大访问跨度小于或等于4天时，建议将保留天数设为7天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于12天时，建议将保留天数设为15天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于30天时， 建议将保留天数设为33天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于90天时，建议将保留天数设为93天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于180天时， 建议将保留天数设为183天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于365天时，建议将保留天数设为368天。</p>
</li>
</ul>


<h2 class="relative group">6. CDM明细层设计规范 
    <div id="6-cdm%E6%98%8E%E7%BB%86%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#6-cdm%E6%98%8E%E7%BB%86%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>
<blockquote>
<p>事实表主要包含与业务过程有关的维度引用（维度表外键）以及业务过程的度量（数字类型字段）</p>
</blockquote>
<p><strong>事实表划分：</strong></p>
<ul>
<li>
<p>事务事实表</p>
</li>
<li>
<p>周期快照事实表</p>
</li>
<li>
<p>累积快照事实表</p>
</li>
</ul>


<h3 class="relative group">6.1 命名规范 
    <div id="61-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#61-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>命名规则</strong>：{project_name/database}.dwd[_{业务缩写/pub}]_{数据域缩写}_{业务过程缩写}_[{自定义表命名标签缩写}]_{刷新周期标识}{单分区增量全量标识}。</p>
<p><strong>命名说明：</strong></p>
<ul>
<li>
<p><strong>pub</strong>表示数据包括多个业务的数据。</p>
</li>
<li>
<p>刷新周期标识：mi表示分钟，h表示小时，d表示天，w表示周，m表示月，y表示年</p>
</li>
<li>
<p>单分区增量全量标识：i表示增量，f表示全量。</p>
</li>
</ul>


<h3 class="relative group">6.2 事务型事实表设计准则 
    <div id="62-%E4%BA%8B%E5%8A%A1%E5%9E%8B%E4%BA%8B%E5%AE%9E%E8%A1%A8%E8%AE%BE%E8%AE%A1%E5%87%86%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#62-%E4%BA%8B%E5%8A%A1%E5%9E%8B%E4%BA%8B%E5%AE%9E%E8%A1%A8%E8%AE%BE%E8%AE%A1%E5%87%86%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>事务型事实表主要用于分析行为与追踪事件。事务事实表获取业务过程中的事件或者行为细节，保存各业务过程的原子操作事件，最细力度的操作事件，然后通过事实与维度之间关联，可以非常方便地统计各种事件相关的度量，例如帮扶次数，救助时数等等。</p>
<p>1）基于数据应用需求的分析设计事务型事实表，如果下游存在较大的针对某个业务过程事件的分析指标需求，可以考虑基于某一个事件过程构建事务型事实表。</p>
<p>2）事务型事实表一般选用事件发生日期或时间作为分区字段，这种分区方式可以方便下游的作业数据扫描执行分区裁剪。</p>
<p>3）明细层事实表的冗余子集的原则能有利于降低上层数据访问的IO开销。</p>
<p>4）明细层事实表维度退化到事实表原则能有利于减少上层数据访问的JOIN成本。</p>
<p><strong>设计步骤：</strong></p>
<p>1）<strong>选择业务过程</strong>：一个业务过程对应一个事务型事实表</p>
<p>2）<strong>声明粒度</strong>：为每个业务声明粒度（定义每行数据的具体含义，应尽可能最细）</p>
<p>3）<strong>确认维度</strong>：确认与本表相关的维度（环境信息，尽量丰富）</p>
<p>4）<strong>确认事实</strong>：确定业务的度量值</p>


<h3 class="relative group">6.3 周期快照型事实表 
    <div id="63-%E5%91%A8%E6%9C%9F%E5%BF%AB%E7%85%A7%E5%9E%8B%E4%BA%8B%E5%AE%9E%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#63-%E5%91%A8%E6%9C%9F%E5%BF%AB%E7%85%A7%E5%9E%8B%E4%BA%8B%E5%AE%9E%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>周期快照型事实表主要用于以规律、可预见的时间间隔记录事实，分析状态型或者存量型事实。快照是指以预定的时间间隔来采样状态度量。</p>
<p><strong>设计步骤：</strong></p>
<p>1）<strong>确定粒度</strong>：周期（通常选每日）、维度</p>
<p>2）<strong>确认事实</strong>：业务过程、指标</p>
<p><strong>事实（度量值）类型：</strong></p>
<p>1）<strong>可加事实</strong>：可按照所有相关维度进行累加</p>
<p>2）<strong>半可加事实</strong>：只能按照一部分相关维度进行累加</p>
<p>3）<strong>不可加事实</strong>：没有可加性</p>


<h3 class="relative group">6.4 累计快照事实表 
    <div id="64-%E7%B4%AF%E8%AE%A1%E5%BF%AB%E7%85%A7%E4%BA%8B%E5%AE%9E%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#64-%E7%B4%AF%E8%AE%A1%E5%BF%AB%E7%85%A7%E4%BA%8B%E5%AE%9E%E8%A1%A8" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>累计快照事实表是基于多个业务过程联合分析从而构建的事实表，一般具有多个日期字段，主要用于分析事件之间的时间间隔等需求。例如，数据申请工单的流转环节等，用初审、复审、终审之间的间隔来分析审核速度，或在审批中的撤回工单分析撤回率等。</p>
<p><strong>设计流程</strong></p>
<ul>
<li>
<p><strong>选择业务过程</strong>：一个业务流程中的多个关键业务过程（里程碑），多个关键业务过程对应一个累计型快照事实表</p>
</li>
<li>
<p><strong>声明粒度</strong>：定义每行数据的具体含义，应尽可能最细</p>
</li>
<li>
<p><strong>确认维度</strong>：选择与每个业务过程相关的维度，至少需要一个日期维度</p>
</li>
<li>
<p><strong>确认事实</strong>：各业务过程的度量值</p>
</li>
</ul>


<h3 class="relative group">6.5 数据存储及生命周期管理规范 
    <div id="65-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#65-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>CDM明细层的表的类型为事实表，存储方式为按天分区</p>
</blockquote>
<p>事务型事实表一般永久保存。周期快照型事实表根据业务需求设置生命周期管理。可依据3个月内的最大需要访问的跨度设置保留策略，具体计算方式如下：</p>
<ul>
<li>
<p>当3个月内的最大访问跨度小于或等于4天时，建议将保留天数设为7天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于12天时，建议将保留天数设为15天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于30天时， 建议将保留天数设为33天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于90天时，建议将保留天数设为93天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于180天时， 建议将保留天数设为183天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于365天时，建议将保留天数设为368天。</p>
</li>
</ul>


<h2 class="relative group">7. CDM汇总层设计规范 
    <div id="7-cdm%E6%B1%87%E6%80%BB%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#7-cdm%E6%B1%87%E6%80%BB%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p><strong>汇总层</strong>主要是通过<strong>汇总明细粒度或者维度数据</strong>来获得改进查询性能的效果。通过访问汇总层，可以减少数据在响应查询时必须执行的工作量，能够快速响应查询，同时有利于减少不同用访问明细数据带来的结果不一致问题。</p>


<h3 class="relative group">7.1 设计原则 
    <div id="71-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#71-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p><strong>一致性：汇总层</strong>必须提供与查询明细粒度和公共维度数据一致的查询结果。</p>
</li>
<li>
<p><strong>避免单一表设计：<strong>不要在同一个表中存储不同层次的</strong>汇总</strong>数据。</p>
</li>
<li>
<p><strong>汇总层粒度可不同</strong>。<strong>汇总</strong>并不需要保持与原始明细粒度数据一样的粒度，<strong>汇总</strong>只关心所需要查询的维度和度量。</p>
</li>
<li>
<p><strong>数据公用性</strong></p>
</li>
<li>
<p>不建议跨域</p>
</li>
</ul>


<h3 class="relative group">7.2 命名规范 
    <div id="72-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#72-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>命名规则</strong>：{project_name/database}.dws/dwt[_{业务缩写/pub}]_{数据域缩写}_{数据粒度缩写}_[{自定义表命名标签缩写}]_{统计时间周期范围缩写}[_{刷新周期标识}{单分区增量全量标识}]。</p>
<p><strong>命名说明</strong>：</p>
<ul>
<li>
<p>统计时间周期范围在默认情况下，离线计算应该包括最近一天（1d）、最近N天（nd）和历史截至当天（td）三个表。如果nd表的字段过多，需要拆分时，只允许以一个统计周期单元作为原子拆分，即一个统计周期拆分一个表。例如，最近7天（1w）拆分一个表，不允许拆分出来的一个表存储多个统计周期。</p>
</li>
<li>
<p>对于{刷新周期标识}和{单分区增量全量标识}在汇总层不做强制要求。</p>
</li>
<li>
<p>刷新周期标识：mi表示分钟，h表示小时，d表示天，w表示周，m表示月，y表示年</p>
</li>
<li>
<p>对于小时表不管是按天刷新还是按小时刷新，都用_h来表示。</p>
</li>
<li>
<p>对于分钟表不管是按天刷新还是按小时刷新，都用_m来表示。</p>
</li>
<li>
<p>单分区增量全量标识：i表示增量，f表示全量。</p>
</li>
</ul>


<h3 class="relative group">7.3 数据存储及生命周期管理规范 
    <div id="73-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#73-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<blockquote>
<p>CDM汇总层的表的类型为事实表或维度宽表，存储方式为按天分区</p>
</blockquote>
<p>事务型事实表一般会永久保存。周期快照型事实表根据业务需求设置生命周期管理。可依据3个月内的最大需要访问的跨度设置保留策略，具体计算方式如下：</p>
<ul>
<li>
<p>当3个月内的最大访问跨度小于或等于4天时，建议将保留天数设为7天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于12天时，建议将保留天数设为15天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于30天时，建议将保留天数设为33天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于90天时，建议将保留天数设为93天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于180天时，建议将保留天数设为183天。</p>
</li>
<li>
<p>当3个月内的最大访问跨度小于或等于365天时，建议将保留天数设为368天。</p>
</li>
</ul>


<h2 class="relative group">8 ADS应用数据层设计规范 
    <div id="8-ads%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#8-ads%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE%E5%B1%82%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>
<blockquote>
<p>应用数据层将不同数据域的汇总数据预关联在一个物理表，开放给应用使用，以减少应用层多次重复JOIN的成本开销</p>
</blockquote>


<h3 class="relative group">8.1 命名规范 
    <div id="81-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#81-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>命名规则：</strong>{project_name/database}.ads_{业务缩写/pub}_{数据域/hbd}_{数据粒度缩写}[_{自定义表命名标签缩写}][_{统计时间周期范围缩写}]。</p>
<p>统计时间周期范围和数据域说明如下：</p>
<ul>
<li>统计时间周期范围缩写，离线计算包括最近一天（1d）、 最近N天（nd）和历史截至当天（td）。</li>
</ul>
<p><strong>说明</strong> 如果出现<code>nd</code> 的表字段过多，需要拆分时，只允许以一个统计周期单元作为原子拆分，即一个统计周期拆分一个表，例如最近7天（1week）拆分一个表，不允许拆分出一个表存储多个统计周期。</p>
<ul>
<li>如果一个汇总表出现混合多个数据域时，表名称中需要使用hbd（hybird 缩写）进行标识。</li>
</ul>


<h2 class="relative group">9. 其他命名规范 
    <div id="9-%E5%85%B6%E4%BB%96%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#9-%E5%85%B6%E4%BB%96%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">9.1 视图命名规范 
    <div id="91-%E8%A7%86%E5%9B%BE%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#91-%E8%A7%86%E5%9B%BE%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>视图命名规范如下：</p>
<ul>
<li>
<p>ODS层直接以视图形式开放到CDM层：{project_name/database}.dwd_{ODS 表名}_view。</p>
</li>
<li>
<p>中间层视图命名规范：遵循中间层命名规范，且加上后缀{project_name/database}.{dws/dwd}_{中间层表命名规范要求}_view。</p>
</li>
</ul>

          
          
          
        </div>
        
        

        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5">
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        Documments - 这篇文章属于一个选集。
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/use-pandas-exploring-covid-19-data/">
            § : Use Pandas Analysis By exploring COVID-19 Data
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/aliyun-quickbi/">
            § : QucikBI
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        § : 本文
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/spider/">
            § : Building a Universal AI Scraper
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/mysql-ddl-mapping-odps-ddl/">
            § : MySQL DDL 批量映射 ODPS DDL 脚本
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/how-to-use-notion/">
            § : How to use Notion
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="http://localhost:1313/docs/database-ai/">
            § : Big Data With AI
        </a>
    </div>
    
    


</details>

        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://localhost:1313/docs/datawarehouse-standard/&amp;title=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="分享到 LinkedIn"
      aria-label="分享到 LinkedIn"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://twitter.com/intent/tweet/?url=http://localhost:1313/docs/datawarehouse-standard/&amp;text=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="分享到 Twitter"
      aria-label="分享到 Twitter"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://reddit.com/submit/?url=http://localhost:1313/docs/datawarehouse-standard/&amp;resubmit=true&amp;title=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="提交到 Reddit"
      aria-label="提交到 Reddit"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://pinterest.com/pin/create/bookmarklet/?url=http://localhost:1313/docs/datawarehouse-standard/&amp;description=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="钉到 Pinterest"
      aria-label="钉到 Pinterest"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:1313/docs/datawarehouse-standard/&amp;quote=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="分享到 Facebook"
      aria-label="分享到 Facebook"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="mailto:?body=http://localhost:1313/docs/datawarehouse-standard/&amp;subject=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title="通过电子邮件发送"
      aria-label="通过电子邮件发送"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://api.whatsapp.com/send?text=http://localhost:1313/docs/datawarehouse-standard/&amp;resubmit=true&amp;title=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://t.me/share/url?url=http://localhost:1313/docs/datawarehouse-standard/&amp;resubmit=true&amp;title=%e6%95%b0%e4%bb%93%e6%90%ad%e5%bb%ba%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83-%e9%98%bf%e9%87%8c%e4%ba%91"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>

  </span>


    </a>
      
    
  </section>


        


<h2 class="mt-8 text-2xl font-extrabold mb-10">相关文章</h2>
<section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3">
  
  

<a href="https://timconnors.co/posts/ai-scraper" target="_blank" rel="external" class="min-w-full">
  
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/docs/spider/featured.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div>
          <div
            class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral">
            Building a Universal AI Scraper
            <span class="text-xs align-top cursor-default text-neutral-400 dark:text-neutral-500">
              <span class="rtl:hidden">&#8599;</span>
              <span class="ltr:hidden">&#8598;</span>
            </span>
          </div>
        </div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  



















<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2022-05-19T00:00:00&#43;00:00">2022.05.05</time>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/tutorial/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Tutorial
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/mysql/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    MySQL
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/script/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Script
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/odps/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    ODPS
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
</div>




        </div>

        
        <div class="py-1 prose dark:prose-invert">
          HTML + Text Search + Text Model
        </div>
        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
  

  <a href="/docs/mysql-ddl-mapping-odps-ddl/" class="min-w-full">
    
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/docs/mysql-ddl-mapping-odps-ddl/featured.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral"
          href="/docs/mysql-ddl-mapping-odps-ddl/">MySQL DDL 批量映射 ODPS DDL 脚本</div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  





  



  













<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2022-05-19T00:00:00&#43;00:00">2022.05.05</time><span class="px-2 text-primary-500">&middot;</span><span>363 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">2 分钟</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/tutorial/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Tutorial
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/mysql/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    MySQL
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/script/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Script
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/odps/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    ODPS
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
</div>




        </div>

        
        <div class="py-1 prose dark:prose-invert">
          
        </div>
        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
  

  <a href="/docs/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB%E6%9E%84%E5%BB%BA%E4%BD%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%8A%B1%E5%9B%AD/" class="min-w-full">
    
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/docs/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB%E6%9E%84%E5%BB%BA%E4%BD%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%8A%B1%E5%9B%AD/featured.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral"
          href="/docs/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E4%BD%93%E7%B3%BB%E6%9E%84%E5%BB%BA%E4%BD%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%8A%B1%E5%9B%AD/">知识管理体系：构建你的数据花园</div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  





  



  













<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2021-04-12T00:00:00&#43;00:00">2021.04.04</time><span class="px-2 text-primary-500">&middot;</span><span>81 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">1 分钟</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/pkm/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    PKM
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/tutorial/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Tutorial
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/wiki/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Wiki
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/blog/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Blog
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
</div>




        </div>

        
        <div class="py-1 prose dark:prose-invert">
          构建一个数据花园不仅是提升个人或企业知识管理能力的有力工具，也是一种提升认知水平、增强决策能力的方式。通过持续捕捉、整理和优化知识，我们能够在信息的海洋中收获真正有价值的洞见，推动自身和组织的持续成长。
        </div>
        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
</section>

  
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_docs\/datawarehouse-standard\/index.md"
        var oid_likes = "likes_docs\/datawarehouse-standard\/index.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/docs/005-time-mange/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >时间管理</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2022-12-01T00:00:00&#43;00:00">2022.12.12</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/docs/aliyun-quickbi/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >QucikBI</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2023-05-12T00:00:00&#43;00:00">2023.05.05</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="返回顶部" title="返回顶部">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/tags/"
            title="">
            
            Tags
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/categories/"
            title="">
            
            Categories
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="https://blowfish.page/tags/personal-site/"
            title="">
            
            Sample-Link
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      Copy, <em>right?</em> :thinking_face:
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> 强力驱动
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="搜索"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="关闭 (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
